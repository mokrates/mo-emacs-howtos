<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-12-19 Di 01:42 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>mos emacs howtos</title>
<meta name="author" content="mokrates" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">mos emacs howtos</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orga8eb626">1. mo-emacs-config</a>
<ul>
<li><a href="#org264c0a4">1.1. Keybindings/Prefix keys</a>
<ul>
<li><a href="#org7089179">1.1.1. Some of the bindings</a></li>
</ul>
</li>
<li><a href="#orgd55b3cf">1.2. recent-files</a></li>
<li><a href="#org5625762">1.3. emacs server</a></li>
<li><a href="#org27f8887">1.4. my multiple cursors shortcuts</a></li>
<li><a href="#org8b6516a">1.5. Ansi-Term</a>
<ul>
<li><a href="#orgd721342">1.5.1. pasting</a></li>
<li><a href="#org0eec76a">1.5.2. tmacs</a></li>
<li><a href="#orgb8670c6">1.5.3. emacsclient</a></li>
<li><a href="#org1b84f73">1.5.4. troubleshooting</a></li>
</ul>
</li>
<li><a href="#org1934548">1.6. flymake</a>
<ul>
<li><a href="#org04a6fa6">1.6.1. json (new version)</a></li>
<li><a href="#orgfc8dc59">1.6.2. toml</a></li>
<li><a href="#orge5129dd">1.6.3. yaml</a></li>
<li><a href="#org1f44e09">1.6.4. python</a></li>
</ul>
</li>
<li><a href="#orgc652382">1.7. ide stuff, languages</a>
<ul>
<li><a href="#orga1b089a">1.7.1. python</a></li>
<li><a href="#orgc7bee2b">1.7.2. Golang</a></li>
</ul>
</li>
<li><a href="#orgf191726">1.8. show git branch in modeline</a></li>
<li><a href="#org3dc4e95">1.9. <span class="todo TODO">TODO</span> ement.el (matrix client)</a></li>
</ul>
</li>
<li><a href="#org474214d">2. HOWTOs</a>
<ul>
<li><a href="#org3016f48">2.1. Fonts</a>
<ul>
<li><a href="#orgb35d215">2.1.1. default font</a></li>
<li><a href="#org9f94b9b">2.1.2. how to let emacs find a font for you</a></li>
<li><a href="#org8a19ce8">2.1.3. troubleshooting</a></li>
</ul>
</li>
<li><a href="#orgd2deb2e">2.2. How to build an input method</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orga8eb626" class="outline-2">
<h2 id="orga8eb626"><span class="section-number-2">1.</span> mo-emacs-config</h2>
<div class="outline-text-2" id="text-1">
<p>
Ok, so this is my emacs config wiki
</p>
</div>

<div id="outline-container-org264c0a4" class="outline-3">
<h3 id="org264c0a4"><span class="section-number-3">1.1.</span> Keybindings/Prefix keys</h3>
<div class="outline-text-3" id="text-1-1">
<p>
I use a us keyboard layout, so <code>C-=</code> is nicely reachable and a
suitable prefix key.
</p>

<p>
On a terminal using putty, sadly, <code>C-=</code> doesn't work, so I use <code>&lt;f12&gt;</code>
instead. <code>&lt;f5&gt;</code> is free, too. <code>&lt;f9&gt;</code> I use for "compiling" or similar
stuff. (that was the binding in turbo-c and still seems to be used by
some IDEs).
</p>
</div>

<div id="outline-container-org7089179" class="outline-4">
<h4 id="org7089179"><span class="section-number-4">1.1.1.</span> Some of the bindings</h4>
<div class="outline-text-4" id="text-1-1-1">
<div class="org-src-container">
<pre class="src src-elisp">(global-set-key (kbd "C-= d") 'find-name-dired)
(global-set-key (kbd "C-= l") 'find-lisp-find-dired)
(global-set-key (kbd "C-= g") 'find-grep-dired)  # or find-grep.

;; to complete filenames everywhere
(global-set-key (kbd "C-= TAB") 'term-dynamic-complete-filename)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd55b3cf" class="outline-3">
<h3 id="orgd55b3cf"><span class="section-number-3">1.2.</span> recent-files</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-elisp">;; recent files
(recentf-mode)
(global-set-key (kbd "C-= f") 'recentf-open-files)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5625762" class="outline-3">
<h3 id="org5625762"><span class="section-number-3">1.3.</span> emacs server</h3>
<div class="outline-text-3" id="text-1-3">
<p>
start a server if there isn't already one running:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(require 'server)
(unless (and (fboundp #'server-running-p) (server-running-p))
  (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-org27f8887" class="outline-3">
<h3 id="org27f8887"><span class="section-number-3">1.4.</span> my multiple cursors shortcuts</h3>
<div class="outline-text-3" id="text-1-4">
<p>
I think MCs are cool but I don't use them much. I neither pretend
these are the best bindings nor do I claim completeness.
</p>

<p>
If you're in a terminal check what key is sent by the key
combination. I think it was <code>C-^</code> instead of <code>C-"</code>. Adjust
accordingly.
</p>

<div class="org-src-container">
<pre class="src src-elisp">;; multiple cursors
(global-set-key (kbd "C-\" a") 'mc/mark-all-like-this-dwim)
(global-set-key (kbd "C-\" l") 'mc/mark-next-lines)
(global-set-key (kbd "C-\" m") 'mc/mark-next-like-this)
(global-set-key (kbd "C-\" s") 'mc/mark-next-like-this-symbol)
(global-set-key (kbd "C-\" w") 'mc/mark-next-like-this-word)
(global-set-key (kbd "C-\" r") 'mc/mark-all-in-region)
(global-set-key (kbd "C-\" R") 'mc/mark-all-in-region-regexp)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8b6516a" class="outline-3">
<h3 id="org8b6516a"><span class="section-number-3">1.5.</span> Ansi-Term</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-orgd721342" class="outline-4">
<h4 id="orgd721342"><span class="section-number-4">1.5.1.</span> pasting</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
There is a function called <code>term-paste</code>, but it is bound to <code>S-insert</code>
by default. Who wants that? Use
</p>

<div class="org-src-container">
<pre class="src src-elisp">(require 'term)
(define-key term-raw-map (kbd "C-c y") 'term-paste)
(define-key term-raw-map (kbd "C-c C-y") 'term-paste)
</pre>
</div>

<p>
to rebind it to <code>C-c C-y</code>
</p>
</div>
</div>

<div id="outline-container-org0eec76a" class="outline-4">
<h4 id="org0eec76a"><span class="section-number-4">1.5.2.</span> tmacs</h4>
<div class="outline-text-4" id="text-1-5-2">
<p>
To conveniently open files from terminal even on remote machines, I
use <a href="https://github.com/mokrates/tmacs">tmacswrap</a>
</p>

<p>
You can define a function to quickly open a tmacs-term with
</p>

<div class="org-src-container">
<pre class="src src-elisp">(defun tmacs () (interactive) (ansi-term "/path/to/tmacswrap"))
</pre>
</div>

<p>
and then open it with <code>M-x tmacs</code>.
</p>
</div>
</div>

<div id="outline-container-orgb8670c6" class="outline-4">
<h4 id="orgb8670c6"><span class="section-number-4">1.5.3.</span> emacsclient</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
Add to your <code>~/.bashrc</code>:
</p>
<div class="org-src-container">
<pre class="src src-bash">if [ -n "$INSIDE_EMACS" ]; then
    export VISUAL=emacsclient   # use tmacs here, if you want
    export EDITOR=$VISUAL
fi  
</pre>
</div>

<p>
Don't use <code>emacsclient -n</code> because that would confuse programs like
<code>git</code> when you edit your commit messages with this.
</p>
</div>
</div>

<div id="outline-container-org1b84f73" class="outline-4">
<h4 id="org1b84f73"><span class="section-number-4">1.5.4.</span> troubleshooting</h4>
<div class="outline-text-4" id="text-1-5-4">
</div>
<ol class="org-ol">
<li><a id="org244389b"></a>slow scrolling (emacs 26.1 has this problem)<br />
<div class="outline-text-5" id="text-1-5-4-1">
<p>
In older emacs versions ansi-term was allegedly very slow clearing the
screen. In version 26.1 the problem seems to be fixed, but still
triggered in a different way: Scrolling fast, if the terminal buffer
is already full. I solved this problem by using this<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<div class="org-src-container">
<pre class="src src-elisp">;; Terminal buffer configuration.
(add-hook 'term-mode-hook 'my-term-mode-hook)
(defun my-term-mode-hook ()
  ;; https://debbugs.gnu.org/cgi/bugreport.cgi?bug=20611
  (setq bidi-paragraph-direction 'left-to-right))  
</pre>
</div>
</div>
</li>

<li><a id="orgbdc5aad"></a>terminal resizing (emacs 26.1 has this problem)<br />
<div class="outline-text-5" id="text-1-5-4-2">
<p>
Resizing the terminal in which emacs runs doesn't inform inferior
terminals that they should be resized, too. Use this<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>:
</p>

<div class="org-src-container">
<pre class="src src-elisp">(add-hook 'window-configuration-change-hook (lambda (frame) (window--adjust-process-windows)))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org1934548" class="outline-3">
<h3 id="org1934548"><span class="section-number-3">1.6.</span> flymake</h3>
<div class="outline-text-3" id="text-1-6">
</div>
<div id="outline-container-org04a6fa6" class="outline-4">
<h4 id="org04a6fa6"><span class="section-number-4">1.6.1.</span> json (new version)</h4>
<div class="outline-text-4" id="text-1-6-1">
<p>
see: <a href="https://github.com/mokrates/json-simple-flymake">https://github.com/mokrates/json-simple-flymake</a>
</p>
</div>
</div>
<div id="outline-container-orgfc8dc59" class="outline-4">
<h4 id="orgfc8dc59"><span class="section-number-4">1.6.2.</span> toml</h4>
<div class="outline-text-4" id="text-1-6-2">
<div class="org-src-container">
<pre class="src src-elisp">(load "~/.emacs.d/tomlcheck.el")
(add-hook 'conf-toml-mode-hook 'flymake-tomlcheck-setup)
(add-hook 'conf-toml-mode-hook 'flymake-mode)
(add-hook 'conf-toml-mode-hook 'trailing-whitespace-mode)

;; if you want to add this automatically to .conf.j2 files
(add-to-list 'auto-mode-alist '("\\.conf\\.j2\\'" . conf-toml-mode))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgda93b33"></a><code>tomlcheck.el</code><br />
<div class="outline-text-5" id="text-1-6-2-1">
<div class="org-src-container">
<pre class="src src-elisp">;;; flymake-tomlcheck.el --- TOML linter with tomlcheck  -*- lexical-binding: t; -*-

;; replace /PATH/TO/TOMLCHECK.PY with actual path to tomlcheck.py
;; the contents should be:

;;;;;;;;;;;; tomlcheck.py
;; #!/usr/bin/env python3
;; # usage: python3 tomlcheck.py &lt; something.toml
;; # pip3 install --user toml

;; # emacs regex:  "^\\(?3:[^(]*\\)(line \\(?1:[0-9]+\\) column \\(?2:[0-9]+\\) char [0-9]+)$"
;; # (match-string 1) = line, (match-string 2) = col, (match-string 3) = msg

;; import sys
;; import toml

;; try:
;;     toml.load(sys.stdin)
;; except Exception as e:
;;     print(e)
;;;;;;;;;;;;;;;;;;

(require 'flymake)

(defgroup flymake-tomlcheck nil
  "Tomlcheck backend for Flymake."
  :prefix "flymake-tomlcheck-"
  :group 'tools)

(defcustom flymake-tomlcheck-arguments
  nil
  "A list of strings to pass to the tomlcheck program as arguments."
  :type '(repeat (string :tag "Argument")))

(defvar-local flymake-tomlcheck--proc nil)

(defun flymake-tomlcheck (report-fn &amp;rest _args)
  "Flymake backend for tomlcheck report using REPORT-FN."
  (when (process-live-p flymake-tomlcheck--proc)
    (kill-process flymake-tomlcheck--proc)
    (setq flymake-tomlcheck--proc nil))
  (let ((source (current-buffer)))
    (save-restriction
      (widen)
      (setq
       flymake-tomlcheck--proc
       (make-process
        :name "flymake-tomlcheck" :noquery t :connection-type 'pipe
        :buffer (generate-new-buffer " *flymake-tomlcheck*")
        :command `("/usr/bin/python" "/PATH/TO/TOMLCHECK.PY")
        :sentinel
        (lambda (proc _event)
          (when (eq 'exit (process-status proc))
            (unwind-protect
                (if (with-current-buffer source (eq proc flymake-tomlcheck--proc))
                    (with-current-buffer (process-buffer proc)
                      (goto-char (point-min))
                      (let ((diags))
                        (while (search-forward-regexp "^\\(?3:[^(]*\\)(line \\(?1:[0-9]+\\) column \\(?2:[0-9]+\\) char [0-9]+)$" nil t)
                          (let ((region (flymake-diag-region source (string-to-number (match-string 1)) (string-to-number (match-string 2))))
                                (error-type (match-string 3)))
                            ;; expect `region' to only have 2 values (start . end)
                            (when (and (car region) (cdr region))
                              (push (flymake-make-diagnostic source
                                                             (car region)
                                                             (cdr region)
                                                             :error
                                                             (match-string 3))
                                    diags))))
                        (funcall report-fn (reverse diags))))
                  (flymake-log :warning "Canceling obsolete check %s"
                               proc))
              (kill-buffer (process-buffer proc)))))))
      (process-send-region flymake-tomlcheck--proc (point-min) (point-max))
      (process-send-eof flymake-tomlcheck--proc))))

;;;###autoload
(defun flymake-tomlcheck-setup ()
  "Enable tomlcheck flymake backend."
  (make-variable-buffer-local 'flymake-diagnostic-functions)
  (add-hook 'flymake-diagnostic-functions #'flymake-tomlcheck nil t))

(provide 'flymake-tomlcheck)
;;; flymake-tomlcheck.el ends here
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orge5129dd" class="outline-4">
<h4 id="orge5129dd"><span class="section-number-4">1.6.3.</span> yaml</h4>
<div class="outline-text-4" id="text-1-6-3">
<div class="org-src-container">
<pre class="src src-elisp">(load "~/.emacs.d/flymake-yamllint.el")
(add-hook 'yaml-mode-hook 'flymake-yamllint-setup)
(add-hook 'yaml-mode-hook 'flymake-mode)
(add-hook 'yaml-mode-hook 'trailing-whitespace-mode)
</pre>
</div>

<p>
<a href="https://github.com/shaohme/flymake-yamllint">https://github.com/shaohme/flymake-yamllint</a>
</p>
</div>
</div>

<div id="outline-container-org1f44e09" class="outline-4">
<h4 id="org1f44e09"><span class="section-number-4">1.6.4.</span> python</h4>
<div class="outline-text-4" id="text-1-6-4">
<p>
see <a href="https://github.com/mokrates/flymaker">https://github.com/mokrates/flymaker</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgc652382" class="outline-3">
<h3 id="orgc652382"><span class="section-number-3">1.7.</span> ide stuff, languages</h3>
<div class="outline-text-3" id="text-1-7">
<p>
For flymaker, see <a href="#org1934548">1.6</a>
</p>
</div>
<div id="outline-container-orga1b089a" class="outline-4">
<h4 id="orga1b089a"><span class="section-number-4">1.7.1.</span> python</h4>
<div class="outline-text-4" id="text-1-7-1">
<div class="org-src-container">
<pre class="src src-elisp">;;;;;;;; python
(require 'auto-complete)
(require 'jedi)
;; these seem to be neccessary because of GUI/CUI, idk.
(define-key jedi-mode-map (kbd "C-c &lt;tab&gt;") 'jedi:complete)
(define-key jedi-mode-map (kbd "C-c TAB") 'jedi:complete)
(add-hook 'python-mode-hook 'jedi:setup)

;; don't show this when idle. Don't do anything if I don't ask you!
;; M-" to show info. (how it is shown: defined in customize)
;; this is a monkey patch. may break with a new emacs version (currently working: 28.2)
(defun jedi:get-in-function-call-when-idle () ())
(define-key jedi-mode-map (kbd "M-\"") 'jedi:get-in-function-call)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc7bee2b" class="outline-4">
<h4 id="orgc7bee2b"><span class="section-number-4">1.7.2.</span> Golang</h4>
<div class="outline-text-4" id="text-1-7-2">
<div class="org-src-container">
<pre class="src src-elisp">;; golang
(add-hook 'go-mode-hook #'eglot-ensure)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf191726" class="outline-3">
<h3 id="orgf191726"><span class="section-number-3">1.8.</span> show git branch in modeline</h3>
<div class="outline-text-3" id="text-1-8">
<div class="org-src-container">
<pre class="src src-elisp">(defun mo-term-git-mode--get-branch ()
  ;;(vc-call-backend 'git 'mode-line-string ".") ; doesn't work
  ;;(let ((branches (vc-git-branches)))
  (let ((branches (vc-call-backend 'git 'branches)))
    (when branches (car branches))))

(define-minor-mode mo-term-git-mode
  "show current branch in modeline in terminal-modes"
  :lighter (:eval (let ((git-branch (mo-term-git-mode--get-branch)))
                    (if git-branch
                        (format " git:%s" git-branch)
                      ""))))

(add-hook 'term-mode-hook 'mo-term-git-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3dc4e95" class="outline-3">
<h3 id="org3dc4e95"><span class="section-number-3">1.9.</span> <span class="todo TODO">TODO</span> ement.el (matrix client)</h3>
</div>
</div>


<div id="outline-container-org474214d" class="outline-2">
<h2 id="org474214d"><span class="section-number-2">2.</span> HOWTOs</h2>
<div class="outline-text-2" id="text-2">
</div>

<div id="outline-container-org3016f48" class="outline-3">
<h3 id="org3016f48"><span class="section-number-3">2.1.</span> Fonts</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgb35d215" class="outline-4">
<h4 id="orgb35d215"><span class="section-number-4">2.1.1.</span> default font</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#fonts">emacs::fonts</a>
</p>

<p>
From the emacs docs:
</p>
<blockquote>
<p>
Add a line to your init file, modifying the variable
`default-frame-alist' to specify the `font' parameter (*note Frame Parameters::), like this:
</p>

<p>
(add-to-list 'default-frame-alist
  '(font . "DejaVu Sans Mono-10"))
</p>
</blockquote>
</div>
</div>


<div id="outline-container-org9f94b9b" class="outline-4">
<h4 id="org9f94b9b"><span class="section-number-4">2.1.2.</span> how to let emacs find a font for you</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
<code>customize-face</code> expects from you that you know the name and all
parameters of a font. When I wasn't using GTK I found this hard. I
found this way:
</p>

<p>
Use <code>describe-font</code> which give you an auto-complete in the minibuffer
which let's you look for and complete your font name. Kill the
complete font name.
</p>

<p>
Use <code>set-face-font</code> to set the font for the face you want to change.
</p>

<p>
After this, use <code>customize-font</code> to open a customize buffer which is
prefilled with the font you set with <code>set-face-font</code> and allows you to
save to your <code>~/.emacs</code>.
</p>
</div>
</div>

<div id="outline-container-org8a19ce8" class="outline-4">
<h4 id="org8a19ce8"><span class="section-number-4">2.1.3.</span> troubleshooting</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
Sometimes emacs loses the fonts you define. That seems to happen with
incompatible themes which redefine them. deinstall those themes and redefine your fonts.
</p>

<p>
Sometimes there seems to be a face lookup which results in a hangup
and the message that the face "undefined" can't be found. This usually
can't be fixed with a restart. This, too, was caused by a faulty
theme. Grep your <code>~/.emacs</code> for <code>undefined</code>, remove that particular
piece of configuration, remove the fauly theme and restart your emacs.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd2deb2e" class="outline-3">
<h3 id="orgd2deb2e"><span class="section-number-3">2.2.</span> How to build an input method</h3>
<div class="outline-text-3" id="text-2-2">
<p>
I built one. See here: <a href="https://github.com/mokrates/quail-classic-german">quail classic german</a>
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.emacswiki.org/emacs/AnsiTermHints#h5o-8">https://www.emacswiki.org/emacs/AnsiTermHints#h5o-8</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://gnu.emacs.bug.narkive.com/nNqAqMND/bug-43126-26-1-ansi-term-not-resized-after-x-window-resize">https://gnu.emacs.bug.narkive.com/nNqAqMND/bug-43126-26-1-ansi-term-not-resized-after-x-window-resize</a>
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: mokrates</p>
<p class="date">Created: 2023-12-19 Di 01:42</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>